(self.webpackChunkarch_guide=self.webpackChunkarch_guide||[]).push([[880],{902:(e,r,n)=>{"use strict";n.r(r),n.d(r,{data:()=>a});const a={key:"v-e6f259b2",path:"/play-and-office/android.html",title:"安卓刷机",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"解锁 bootloader",slug:"解锁-bootloader",children:[]},{level:2,title:"刷入 twrp 并进行刷机",slug:"刷入-twrp-并进行刷机",children:[]},{level:2,title:"有关华为设备",slug:"有关华为设备",children:[]},{level:2,title:"Ref",slug:"ref",children:[]}],filePathRelative:"play-and-office/android.md",git:{updatedTime:1622601938e3,contributors:[{name:"icekylin",email:"wminid@yeah.net",commits:1}]}}},482:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>ae});var a=n(6252);const l=(0,a.Wm)("h1",{id:"安卓刷机"},[(0,a.Wm)("a",{class:"header-anchor",href:"#安卓刷机"},"#"),(0,a.Uk)(" 安卓刷机")],-1),o={href:"https://wiki.archlinux.org/index.php/android",target:"_blank",rel:"noopener noreferrer"},t=(0,a.Uk)("官方文档"),s=(0,a.Uk)("前排提示：买手机最好买知名度大的品牌，较热门的机型，这样在刷机时可以方便的找到官方的 twrp 和知名的 ROM 包，如魔趣，lineageOS，crDroid, Resurrection Remix. 等。如果是较冷门的品牌，官方可能没有提供 ROM，只能在网上自行寻找个人改造过的 twrp 和上述 ROM 包的 unofficial ROM(比如乐视的"),p={href:"https://forum.xda-developers.com/t/rom-7-1-2-mtk-x620-unofficial-beta-lineageos-14-1-leeco-le2-pro-02-april-2019.3724749/",target:"_blank",rel:"noopener noreferrer"},m=(0,a.Uk)("这个"),i=(0,a.Uk)("和"),c={href:"https://github.com/zaoqi-android/Le_X62X_AOSP6.0",target:"_blank",rel:"noopener noreferrer"},u=(0,a.Uk)("这个"),d=(0,a.Uk)(")。这种个人改造版本的安全性比较难说，而且还可能有更多的 bug。也有可能你翻遍全网，也找不到冷门机型能用（指好用的、非硬件提供商的官方 ROM）的 twrp 和 ROM。硬件方面，一般推荐买高通骁龙的 cpu,不要买联发科的，因为更多 ROM 的版本都是适配高通硬件的。"),h=(0,a.uE)('<p>首先需要安装 linux 上的安卓工具包</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S android-tools\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="解锁-bootloader"><a class="header-anchor" href="#解锁-bootloader">#</a> 解锁 bootloader</h2><p>再次提醒要购买或使用有可能解锁 bootloader 的手机品牌。华为，vivo 等这类官方就不给解锁的手机品牌，就无需再往下看了。</p><p>一般来说像小米这种品牌，官方会提供解锁 bootloader 的途径和工具，但是这些工具基本只能在 windows 下用。这时候你就只能用一台 windows 操作，或者使用虚拟机。</p><p>除此之外，如果你能获取，或通过很 hack 的方式拿到 bootloader 的解锁码，那么也可以使用 adb 在 fastboot 模式下进行解锁。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ adb <span class="token function">reboot</span> bootloader <span class="token comment">#手机先链接电脑，重启到fastboot</span>\n$ fastboot oem unlock xxxxxxx <span class="token comment">#在fastboot模式下解锁，要加上正确的bl码才能解锁，否则会报错</span>\nFAILED <span class="token punctuation">(</span>remote: <span class="token string">&#39;check password failed!&#39;</span><span class="token punctuation">)</span>\nfastboot: error: Command failed\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="刷入-twrp-并进行刷机"><a class="header-anchor" href="#刷入-twrp-并进行刷机">#</a> 刷入 twrp 并进行刷机</h2>',8),b=(0,a.Uk)("没有官方 twrp 的设备，可以在"),f={href:"https://unofficialtwrp.com/devices/",target:"_blank",rel:"noopener noreferrer"},k=(0,a.Uk)("unofficialtwrp"),W=(0,a.Uk)("查看下是否有。"),g=(0,a.Wm)("p",null,"如果没有相关信息有几个论坛和网站可以看看",-1),w=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,"xda https://forum.xda-developers.com/"),(0,a.Wm)("li",null,"https://forum.cusrom.com/categories/vivo-y85/"),(0,a.Wm)("li",null,"https://androidfilehost.com/ 搜索 开发代号 + 你想要的系统名字")],-1),v=(0,a.Wm)("p",null,"一般 twrp 的版本和 ROM 包有对应关系，刷机前先确认你的两个版本是兼容的，否则刷机过程可能报奇怪的错误，如 unable to mount /system",-1),U=(0,a.Uk)("去下载你机型对应的 twrp。在"),x={href:"https://twrp.me/Devices/",target:"_blank",rel:"noopener noreferrer"},R=(0,a.Uk)("官网"),_=(0,a.Uk)("搜索你的机型，下载。如果没有看到你的机型说明官方不支持，你需要自行搜索别人修改的版本。将手机连接电脑，注意要连到 USB2.0 的接口，否则可能有兼容性问题。"),y=(0,a.Wm)("p",null,"让手机进入 fastboot 模式，在电脑打开终端，执行",-1),O=(0,a.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,a.Wm)("pre",{class:"language-bash"},[(0,a.Wm)("code",null,"fastboot flash recovery ./path/of/your-twrp.img\n")]),(0,a.Wm)("div",{class:"line-numbers"},[(0,a.Wm)("span",{class:"line-number"},"1"),(0,a.Wm)("br")])],-1),M=(0,a.Uk)("看到终端执行完毕的时候，就可以让手机重启了。这里注意，执行"),C=(0,a.Wm)("code",null,"fastboot reboot",-1),D=(0,a.Uk)("可以重启，但是许多设备会在首次启动时自动覆盖替换你刷入的自定义 recovery，如乐视的 le2 x620 这样直接重启会报错不是官方系统什么的。为防止这种情况，在手机上通过硬件按键重启进入 recovery，TWRP 将给 ROM 打 patch，以防止 ROM 替换 TWRP。"),E={href:"https://twrp.me/xiaomi/xiaomimi5.html",target:"_blank",rel:"noopener noreferrer"},L=(0,a.Uk)("[1]"),P=(0,a.uE)('<p>剩下的步骤就是普通的进入 twrp,双清，刷机即可。</p><blockquote><p>有时双清或者进入 twrp 可能看到报错，用高级清理，从 ext4 改一下格式，再改回 ext4 可能就解决了</p></blockquote><p>更多命令：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ adb shell <span class="token comment">#打开adb shell</span>\n$ adb root <span class="token comment">#在手机已经root的情况下打开root权限的adb shell</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="有关华为设备"><a class="header-anchor" href="#有关华为设备">#</a> 有关华为设备</h2><p>如果你没有在 18 年华为关闭 bl 锁码申请前拿到密码，那刷机在现在将变得基本不可能，尤其是近一年左右的新设备。<br> 老一些的设备可以尝试一下如下方法。</p>',6),S=(0,a.Uk)("下载 DC-unlocker 花四欧元，下载到电脑上检测设备，登陆，然后尝试解锁读取 bl 码。不是所有设备都能成功，我的 nova3e 虽然在其支持列表里，也没有成功。流程大致是"),$={href:"https://www.forece.net/post/4886.htm",target:"_blank",rel:"noopener noreferrer"},q=(0,a.Uk)("这个"),B=(0,a.Uk)("。查到的原因是安卓 8 之后某个安全补丁后，DC unlocker 已经不能读到 bl 码。看 DC 之后的更新能否解决这个问题吧。还有另一个办法是先降级，然后在用 DC 解锁。通过 Firmware Finder 降级的方式，但是我试了也不行，拿不到检测的更新了，据说是 "),F=(0,a.Wm)("strong",null,"EMUI8.0.0.129",-1),T=(0,a.Uk)(" 后封死了其他渠道回滚。"),j={href:"https://club.huawei.com/thread-15361104-1-1.html",target:"_blank",rel:"noopener noreferrer"},z=(0,a.Uk)("资料 1"),A={href:"https://cn.ui.vmall.com/thread-19813753-1-1.html",target:"_blank",rel:"noopener noreferrer"},I=(0,a.Uk)("资料 2"),X={href:"https://www.cnblogs.com/lsgxeva/p/13469490.html",target:"_blank",rel:"noopener noreferrer"},H=(0,a.Uk)("资料 3"),N=(0,a.Wm)("p",null,"淘宝卖码的反馈 nova3e 机型无法解锁拿到 BL。",-1),Y=(0,a.Uk)("还有一个自行拿十六进制里 bl 码的"),G={href:"https://www.52pojie.cn/thread-816065-1-1.html",target:"_blank",rel:"noopener noreferrer"},J=(0,a.Uk)("教程"),K=(0,a.Uk)("，前提是必须先拿到 root,这在新机型上基本也不可能了。旧机型可以尝试。在 linux 上检查十六进制可用这个软件"),Q={href:"https://www.archlinux.org/packages/community/any/bless/",target:"_blank",rel:"noopener noreferrer"},V=(0,a.Uk)("Bless"),Z=(0,a.Wm)("p",null,"所以 nova3e 这个机型基本不可能了，除非华为重新开放 bl 申请。之后试试更老一点的机型 nova2。",-1),ee=(0,a.Wm)("h2",{id:"ref"},[(0,a.Wm)("a",{class:"header-anchor",href:"#ref"},"#"),(0,a.Uk)(" Ref")],-1),re={href:"http://www.romleyuan.com/news/readnews?newsid=938",target:"_blank",rel:"noopener noreferrer"},ne=(0,a.Uk)("小米刷机教程"),ae={render:function(e,r){const n=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[l,(0,a.Wm)("p",null,[(0,a.Wm)("a",o,[t,(0,a.Wm)(n)])]),(0,a.Wm)("p",null,[s,(0,a.Wm)("a",p,[m,(0,a.Wm)(n)]),i,(0,a.Wm)("a",c,[u,(0,a.Wm)(n)]),d]),h,(0,a.Wm)("p",null,[b,(0,a.Wm)("a",f,[k,(0,a.Wm)(n)]),W]),g,w,v,(0,a.Wm)("p",null,[U,(0,a.Wm)("a",x,[R,(0,a.Wm)(n)]),_]),y,O,(0,a.Wm)("p",null,[M,C,D,(0,a.Wm)("a",E,[L,(0,a.Wm)(n)])]),P,(0,a.Wm)("p",null,[S,(0,a.Wm)("a",$,[q,(0,a.Wm)(n)]),B,F,T,(0,a.Wm)("a",j,[z,(0,a.Wm)(n)]),(0,a.Wm)("a",A,[I,(0,a.Wm)(n)]),(0,a.Wm)("a",X,[H,(0,a.Wm)(n)])]),N,(0,a.Wm)("p",null,[Y,(0,a.Wm)("a",G,[J,(0,a.Wm)(n)]),K,(0,a.Wm)("a",Q,[V,(0,a.Wm)(n)])]),Z,ee,(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("a",re,[ne,(0,a.Wm)(n)])])])],64)}}}}]);