(self.webpackChunkarch_guide=self.webpackChunkarch_guide||[]).push([[16],{4779:(n,l,s)=>{"use strict";s.r(l),s.d(l,{data:()=>e});const e={key:"v-67d837ff",path:"/advanced/make-install-disk.html",title:"制作系统盘",lang:"zh-CN",frontmatter:{sidebarDepth:2},excerpt:"",headers:[{level:3,title:"🥀 落红不是无情物，化作春泥更护花",slug:"🥀-落红不是无情物-化作春泥更护花",children:[]},{level:3,title:"🔖 这一节将会讨论：",slug:"🔖-这一节将会讨论",children:[]},{level:2,title:"通用方法",slug:"通用方法",children:[{level:3,title:"Ventoy（推荐）",slug:"ventoy-推荐",children:[]},{level:3,title:"balenaEtcher",slug:"balenaetcher",children:[]}]},{level:2,title:"手动制作",slug:"手动制作",children:[{level:3,title:"dd 命令",slug:"dd-命令",children:[]},{level:3,title:"win10 / win11 安装盘",slug:"win10-win11-安装盘",children:[]}]},{level:2,title:"制作 archlinux 内存系统盘",slug:"制作-archlinux-内存系统盘",children:[{level:3,title:"1. 准备工作",slug:"_1-准备工作",children:[]},{level:3,title:"2. 进行定制",slug:"_2-进行定制",children:[]},{level:3,title:"3. 开始制作",slug:"_3-开始制作",children:[]}]}],filePathRelative:"advanced/make-install-disk.md",git:{updatedTime:162463386e4,contributors:[{name:"icekylin",email:"wminid@yeah.net",commits:3}]}}},4117:(n,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>ee});var e=s(6252);const a=s.p+"assets/img/ventoy-1.48e1f3d1.png",m=s.p+"assets/img/ventoy-2.35356892.png",t=s.p+"assets/img/ventoy-3.6320d6e5.png",c=s.p+"assets/img/ventoy-4.f38928d5.png",i=s.p+"assets/img/ventoy-5.cc7f1963.png",o=s.p+"assets/img/ventoy-6.71e723bf.png",u=s.p+"assets/img/ventoy-7.5f1dc3db.png",W=s.p+"assets/img/balena-etcher-1.40ee92ef.png",r=s.p+"assets/img/balena-etcher-2.966f3d78.png",p=s.p+"assets/img/win-1.5b30ed41.png",d=s.p+"assets/img/win-2.cd77652c.png",k=s.p+"assets/img/win-3.2ab7d26d.png",b=s.p+"assets/img/win-4.17f521cc.png",h=s.p+"assets/img/win-5.301a46fd.png",g=s.p+"assets/img/win-6.0c5ab2df.png",U=s.p+"assets/img/win-7.6960b07c.png",f=s.p+"assets/img/win-8.d0a1e6cd.png",v=s.p+"assets/img/archiso-1.456053e1.png",x=s.p+"assets/img/archiso-2.f5ab8022.png",w=s.p+"assets/img/archiso-3.4effd97f.png",_=s.p+"assets/img/archiso-4.fd5649f7.png",y=s.p+"assets/img/archiso-5.e852a8f1.png",E=s.p+"assets/img/archiso-6.4dfbed4e.png",B=s.p+"assets/img/archiso-7.7c14ee22.png",V=s.p+"assets/img/archiso-8.7a7928e3.png",A=s.p+"assets/img/archiso-9.eb92a1cd.png",I=s.p+"assets/img/archiso-10.ee0e233c.png",S=(0,e.Wm)("h1",{id:"制作系统盘"},[(0,e.Wm)("a",{class:"header-anchor",href:"#制作系统盘"},"#"),(0,e.Uk)(" 制作系统盘")],-1),D=(0,e.Wm)("blockquote",null,[(0,e.Wm)("h3",{id:"🥀-落红不是无情物-化作春泥更护花"},[(0,e.Wm)("a",{class:"header-anchor",href:"#🥀-落红不是无情物-化作春泥更护花"},"#"),(0,e.Uk)(" 🥀 落红不是无情物，化作春泥更护花")]),(0,e.Wm)("p",null,"本节介绍在 archlinux 下如何制作系统安装盘（启动盘）以及用来维护的 archlinux 内存系统盘（也就是将 archlinux 安装到 U 盘里）")],-1),L=(0,e.Wm)("h3",{id:"🔖-这一节将会讨论"},[(0,e.Wm)("a",{class:"header-anchor",href:"#🔖-这一节将会讨论"},"#"),(0,e.Uk)(" 🔖 这一节将会讨论：")],-1),z={class:"table-of-contents"},F=(0,e.Uk)("🥀 落红不是无情物，化作春泥更护花"),M=(0,e.Uk)("🔖 这一节将会讨论："),C=(0,e.Uk)("通用方法"),q=(0,e.Uk)("Ventoy（推荐）"),G=(0,e.Uk)("balenaEtcher"),T=(0,e.Uk)("手动制作"),O=(0,e.Uk)("dd 命令"),P=(0,e.Uk)("win10 / win11 安装盘"),K=(0,e.Uk)("制作 archlinux 内存系统盘"),R=(0,e.Uk)("1. 准备工作"),$=(0,e.Uk)("2. 进行定制"),j=(0,e.Uk)("3. 开始制作"),N=(0,e.Wm)("h2",{id:"通用方法"},[(0,e.Wm)("a",{class:"header-anchor",href:"#通用方法"},"#"),(0,e.Uk)(" 通用方法")],-1),H=(0,e.Wm)("h3",{id:"ventoy-推荐"},[(0,e.Wm)("a",{class:"header-anchor",href:"#ventoy-推荐"},"#"),(0,e.Uk)(" Ventoy（推荐）")],-1),Y={href:"https://www.ventoy.net/cn/index.html",target:"_blank",rel:"noopener noreferrer"},X=(0,e.Uk)("Ventoy"),J=(0,e.Wm)("sup",null,"cn / aur",-1),Q=(0,e.Uk)(" 是一个制作可启动 U 盘的开源工具。"),Z=(0,e.Wm)("p",null,"Ventoy 有诸多优点：",-1),nn=(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("strong",null,"无需反复地格式化 U 盘"),(0,e.Uk)("，只需要把 ISO / WIM / IMG / VHD(x) / EFI 等类型的文件拷贝到 U 盘里面就可以启动了，无需其它操作")]),(0,e.Wm)("li",null,"可以一次性拷贝多个不同类型的镜像文件，Ventoy 会在启动时显示一个菜单来供用户进行选择"),(0,e.Wm)("li",null,"同一个 U 盘可以同时支持 x86 Legacy BIOS、IA32 UEFI、x86_64 UEFI、ARM64 UEFI 和 MIPS64EL UEFI 模式")],-1),ln=(0,e.Uk)("Ventoy 支持 "),sn={href:"https://www.ventoy.net/cn/isolist.html",target:"_blank",rel:"noopener noreferrer"},en=(0,e.Uk)("大部分常见类型的操作系统"),an=(0,e.Uk)("。"),mn=(0,e.Wm)("p",null,"安装 Ventoy：",-1),tn=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" pacman -S ventoy-bin\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),cn=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,"yay -S aur/ventoy-bin\n")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),on=(0,e.Wm)("h4",{id:"命令行模式"},[(0,e.Wm)("a",{class:"header-anchor",href:"#命令行模式"},"#"),(0,e.Uk)(" 命令行模式")],-1),un=(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"制作 Ventoy U 盘："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Uk)("lsblk "),(0,e.Wm)("span",{class:"token comment"},"# 分辨要安装 Ventoy 的 U 盘"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" ventoy -i -g -r size /dev/sdx "),(0,e.Wm)("span",{class:"token comment"},"# 按提示操作即可"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" ventoy -l "),(0,e.Wm)("span",{class:"token comment"},"# 显示 U 盘中的 Ventoy 相关信息"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br")])]),(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,"📑 命令参数说明："),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"-i"),(0,e.Uk)(" —— 安装 Ventoy 到 U 盘中（如果对应磁盘已经安装了 Ventoy 则会返回失败）")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"-g"),(0,e.Uk)(" —— 使用 GPT 分区格式，默认是 MBR 格式")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"-r"),(0,e.Uk)(" —— 在 U 盘最后保留部分空间（可选，可以分区并格式化后使用）： "),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"size"),(0,e.Uk)(" —— 空间大小（单位是 MB）")])])])])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:a,alt:"ventoy-1"})]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:m,alt:"ventoy-2"})]),(0,e.Wm)("div",{class:"custom-container danger"},[(0,e.Wm)("p",{class:"custom-container-title"},"☢️ 警告"),(0,e.Wm)("p",null,"Ventoy 不会检查输入的设备是 U 盘还是本地硬盘，如果输错了有可能会把系统盘格式化掉！")]),(0,e.Wm)("div",{class:"custom-container danger"},[(0,e.Wm)("p",{class:"custom-container-title"},"☢️ 警告"),(0,e.Wm)("p",null,"安装 Ventoy 到 U 盘会使 U 盘所有数据丢失，请事先确认。")]),(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,[(0,e.Uk)("可用选项 "),(0,e.Wm)("code",null,"-I"),(0,e.Uk)(" 强制安装 Ventoy 到 U 盘中：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" ventoy -I -g -r size /dev/sdx\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,"可用以下命令升级 U 盘中已经安装好的 Ventoy："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" ventoy -u /dev/sdx\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])])])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("拷贝镜像文件到镜像分区（卷标为 "),(0,e.Wm)("code",null,"Ventoy"),(0,e.Uk)("）：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Uk)("lsblk "),(0,e.Wm)("span",{class:"token comment"},"# 分辨镜像分区"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"mount"),(0,e.Uk)(" /dev/sdxn /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 挂载镜像分区"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"cp"),(0,e.Uk)(" /path/of/some_os.iso /mnt/mount_point\n"),(0,e.Wm)("span",{class:"token function"},"ls"),(0,e.Uk)(" -hl /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 复查一下"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:t,alt:"ventoy-3"})]),(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,"你可以将多个镜像文件拷贝到镜像分区。")]),(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,"也可以在 Dolphin 文件管理器中挂载并复制。")])])],-1),Wn=(0,e.Wm)("p",null,"自此，一个支持多系统的安装盘便制作完成了。",-1),rn={class:"custom-container tip"},pn=(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示",-1),dn=(0,e.Wm)("p",null,"将 U 盘剩余空间创建新分区并格式化即可使用：",-1),kn=(0,e.Uk)("类似 "),bn=(0,e.Uk)("7-1. 分区"),hn=(0,e.Uk)("，用 "),gn=(0,e.Wm)("code",null,"cfdisk",-1),Un=(0,e.Uk)(" 命令创建新分区。在 "),fn=(0,e.Wm)("code",null,"Type",-1),vn=(0,e.Uk)(" 中选择 "),xn=(0,e.Wm)("code",null,"Microsoft 储存空间",-1),wn=(0,e.Uk)("（NTFS）："),_n=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"cfdisk"),(0,e.Uk)(" /dev/sdx\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),yn=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:c,alt:"ventoy-4"})],-1),En=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"格式化分区："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" mkfs.ntfs -f /dev/sdxn "),(0,e.Wm)("span",{class:"token comment"},"# -f：快速格式化"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:i,alt:"ventoy-5"})])],-1),Bn=(0,e.Uk)("也可以使用图形化的分区工具如 "),Vn={href:"https://apps.kde.org/partitionmanager/",target:"_blank",rel:"noopener noreferrer"},An=(0,e.Uk)("KDE 分区管理器"),In=(0,e.Uk)("。"),Sn=(0,e.Wm)("h4",{id:"图形化模式"},[(0,e.Wm)("a",{class:"header-anchor",href:"#图形化模式"},"#"),(0,e.Uk)(" 图形化模式")],-1),Dn=(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"打开 Ventoy 基于浏览器的图形化操作界面："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" ventoyweb\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:o,alt:"ventoy-6"})])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"使用浏览器访问提示的本地端口即可："),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:u,alt:"ventoy-7"})])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("按照界面提示完成操作即可，在终端按下 "),(0,e.Wm)("code",null,"Ctrl"),(0,e.Uk)(" + "),(0,e.Wm)("code",null,"C"),(0,e.Uk)(" 即可退出")])])],-1),Ln=(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,"目前 Linux 下 Ventoy 图形化模式还不太稳定，有可能制作失败。建议使用命令行模式。")],-1),zn=(0,e.Wm)("h3",{id:"balenaetcher"},[(0,e.Wm)("a",{class:"header-anchor",href:"#balenaetcher"},"#"),(0,e.Uk)(" balenaEtcher")],-1),Fn=(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,[(0,e.Uk)("此方法"),(0,e.Wm)("strong",null,"不适用于制作 windows 安装盘"),(0,e.Uk)("。")])],-1),Mn={href:"https://www.balena.io/etcher/",target:"_blank",rel:"noopener noreferrer"},Cn=(0,e.Uk)("balenaEtcher"),qn=(0,e.Wm)("sup",null,"aur",-1),Gn=(0,e.Uk)(" 界面更加傻瓜一点。但是只支持对单个完整 U 盘进行制作，即使还有剩余的空间也无法使用。"),Tn=(0,e.Wm)("p",null,"安装 balenaEtcher：",-1),On=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,"yay -S etcher-bin\n")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),Pn=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,"yay -S etcher-git\n")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),Kn=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:W,alt:"balena-etcher-1"})],-1),Rn={class:"custom-container tip"},$n=(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示",-1),jn={href:"https://aur.archlinux.org/packages/balena-etcher",target:"_blank",rel:"noopener noreferrer"},Nn=(0,e.Wm)("code",null,"balena-etcher",-1),Hn=(0,e.Uk)(" 打开后会白屏，无法正常使用。"),Yn=(0,e.Uk)("请安装 "),Xn={href:"https://aur.archlinux.org/packages/etcher-bin/",target:"_blank",rel:"noopener noreferrer"},Jn=(0,e.Wm)("code",null,"etcher-bin",-1),Qn=(0,e.Uk)(" 或 "),Zn={href:"https://aur.archlinux.org/packages/etcher-git/",target:"_blank",rel:"noopener noreferrer"},nl=(0,e.Wm)("code",null,"etcher-git",-1),ll=(0,e.Uk)("。"),sl=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"打开 balenaEtcher，按提示操作即可："),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:r,alt:"balena-etcher-2"})])],-1),el={class:"custom-container tip"},al=(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示",-1),ml=(0,e.Uk)("使用 balenaEtcher 制作完成的安装盘若要重新作为普通 U 盘使用，需要用磁盘分区管理工具（如 "),tl={href:"https://apps.kde.org/partitionmanager/",target:"_blank",rel:"noopener noreferrer"},cl=(0,e.Uk)("KDE 分区管理器"),il=(0,e.Uk)("、"),ol={href:"https://www.diskgenius.cn/",target:"_blank",rel:"noopener noreferrer"},ul=(0,e.Uk)("DiskGenius"),Wl=(0,e.Wm)("sup",null,"EULA",-1),rl=(0,e.Uk)("）重建分区表才能正常格式化。"),pl=(0,e.Wm)("h2",{id:"手动制作"},[(0,e.Wm)("a",{class:"header-anchor",href:"#手动制作"},"#"),(0,e.Uk)(" 手动制作")],-1),dl=(0,e.Wm)("h3",{id:"dd-命令"},[(0,e.Wm)("a",{class:"header-anchor",href:"#dd-命令"},"#"),(0,e.Uk)(" dd 命令")],-1),kl=(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,[(0,e.Uk)("此方法"),(0,e.Wm)("strong",null,"不适用于制作 windows 安装盘"),(0,e.Uk)("。")])],-1),bl=(0,e.Wm)("p",null,[(0,e.Wm)("code",null,"dd"),(0,e.Uk)(" 命令用于读取、转换并输出数据。")],-1),hl=(0,e.Wm)("p",null,[(0,e.Uk)("使用 "),(0,e.Wm)("code",null,"dd"),(0,e.Uk)(" 命令即可简单的制作 Linux 的安装盘。注意 "),(0,e.Wm)("code",null,"of"),(0,e.Uk)(" 的参数为 "),(0,e.Wm)("code",null,"sdx"),(0,e.Uk)("，不是 "),(0,e.Wm)("code",null,"sdx1"),(0,e.Uk)("、"),(0,e.Wm)("code",null,"sdx2"),(0,e.Uk)(" 等：")],-1),gl=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"dd"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token assign-left variable"},"bs"),(0,e.Wm)("span",{class:"token operator"},"="),(0,e.Uk)("4M "),(0,e.Wm)("span",{class:"token assign-left variable"},"if"),(0,e.Wm)("span",{class:"token operator"},"="),(0,e.Uk)("/path/of/some_os.iso "),(0,e.Wm)("span",{class:"token assign-left variable"},"of"),(0,e.Wm)("span",{class:"token operator"},"="),(0,e.Uk)("/dev/sdx "),(0,e.Wm)("span",{class:"token assign-left variable"},"status"),(0,e.Wm)("span",{class:"token operator"},"="),(0,e.Uk)("progress "),(0,e.Wm)("span",{class:"token assign-left variable"},"oflag"),(0,e.Wm)("span",{class:"token operator"},"="),(0,e.Uk)("sync\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),Ul=(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,"📑 命令参数说明："),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"bs=4M"),(0,e.Uk)(" —— 指定一个较为合理的文件输入输出块大小")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"status=progress"),(0,e.Uk)(" —— 用来输出刻录过程总的信息")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"oflag=sync"),(0,e.Uk)(" —— 用来控制写入数据时的行为特征。确保命令结束时数据及元数据真正写入磁盘，而不是刚写入缓存就返回")])])],-1),fl=(0,e.Wm)("div",{class:"custom-container danger"},[(0,e.Wm)("p",{class:"custom-container-title"},"☢️ 警告"),(0,e.Wm)("p",null,"此步骤会使 U 盘所有数据丢失，请事先确认。")],-1),vl=(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,"此时 U 盘应该未挂载。若已经挂载了请先卸载掉："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"umount"),(0,e.Uk)(" /mnt/mount_point\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])])],-1),xl=(0,e.Wm)("h3",{id:"win10-win11-安装盘"},[(0,e.Wm)("a",{class:"header-anchor",href:"#win10-win11-安装盘"},"#"),(0,e.Uk)(" win10 / win11 安装盘")],-1),wl=(0,e.Wm)("p",null,[(0,e.Uk)("以往在 Linux 下手动制作一个 win10 / win11 安装盘还是很简单的，但是随着近几年微软的更新，其 iso 安装镜像中存在一个名为"),(0,e.Wm)("code",null,"install.wim"),(0,e.Uk)("的文件，其大小已经超出了 4GB（fat32 要求的单个文件最大 4GB）的限制。这使得必须用额外的步骤才能制作一个启动盘。")],-1),_l=(0,e.Wm)("p",null,"这里依旧使用 fat32 格式是因为其兼容性是最好的，NTFS 的 UEFI 安装盘很多情况下不被识别。",-1),yl=(0,e.Wm)("p",null,[(0,e.Uk)("首先用 "),(0,e.Wm)("code",null,"parted"),(0,e.Uk)(" 命令创建 U 盘的分区：")],-1),El=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"parted"),(0,e.Uk)(" /dev/sdx "),(0,e.Wm)("span",{class:"token comment"},"# 执行 parted，进行磁盘类型变更"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("parted"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(" mktable "),(0,e.Wm)("span",{class:"token comment"},"# 输入 mktable"),(0,e.Uk)("\n新的磁盘卷标类型？ gpt "),(0,e.Wm)("span",{class:"token comment"},"# 输入 gpt，将磁盘类型转换为 GPT 类型。如磁盘有数据会警告，输入 Yes 即可"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token punctuation"},"("),(0,e.Uk)("parted"),(0,e.Wm)("span",{class:"token punctuation"},")"),(0,e.Uk)(" quit "),(0,e.Wm)("span",{class:"token comment"},"# 退出 parted 命令行交互"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br")])],-1),Bl=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:p,alt:"win-1"})],-1),Vl=(0,e.Wm)("div",{class:"custom-container danger"},[(0,e.Wm)("p",{class:"custom-container-title"},"☢️ 警告"),(0,e.Wm)("p",null,"重建分区表会使 U 盘所有数据丢失，请事先确认。")],-1),Al={class:"custom-container tip"},Il=(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示",-1),Sl=(0,e.Uk)("也可以使用图形化的分区工具如 "),Dl={href:"https://apps.kde.org/partitionmanager/",target:"_blank",rel:"noopener noreferrer"},Ll=(0,e.Uk)("KDE 分区管理器"),zl=(0,e.Uk)("。"),Fl=(0,e.Uk)("接下来类似 "),Ml=(0,e.Uk)("7-1. 分区"),Cl=(0,e.Uk)("，用 "),ql=(0,e.Wm)("code",null,"cfdisk",-1),Gl=(0,e.Uk)(" 命令创建新分区。在 "),Tl=(0,e.Wm)("code",null,"Type",-1),Ol=(0,e.Uk)(" 中选择 "),Pl=(0,e.Wm)("code",null,"Microsoft 基本数据",-1),Kl=(0,e.Uk)("："),Rl=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"cfdisk"),(0,e.Uk)(" /dev/sdx\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),$l=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:d,alt:"win-2"})],-1),jl=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("接下来使用 "),(0,e.Wm)("code",null,"mkfs.vfat"),(0,e.Uk)(" 命令格式化所创建的分区，这样 U 盘就准备好了：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" mkfs.vfat /dev/sdxn\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:k,alt:"win-3"})])],-1),Nl=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"接下来下载 win10 / win11 的 iso 镜像并解压。由于 Ark 尚不支持 UDF 文件系统的 ISO 文件，我们需要手动挂载并将其中的内容复制出来："),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:b,alt:"win-4"})]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"mount"),(0,e.Uk)(" -o loop /path/of/windows_iso_name.iso /mnt/mount_point\n"),(0,e.Wm)("span",{class:"token function"},"cp"),(0,e.Uk)(" -a /mnt/mount_point /path/of/some_folder\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:h,alt:"win-5"})])],-1),Hl=(0,e.Uk)("得到复制出来的文件后，最后要进行的就是压缩 "),Yl=(0,e.Wm)("code",null,"install.wim",-1),Xl=(0,e.Uk)(" 文件（在 "),Jl=(0,e.Wm)("code",null,"sources",-1),Ql=(0,e.Uk)(" 文件夹下）。这里需要首先安装一个包 "),Zl={href:"https://archlinux.org/packages/community/x86_64/wimlib/",target:"_blank",rel:"noopener noreferrer"},ns=(0,e.Wm)("code",null,"wimlib",-1),ls=(0,e.Uk)("（可能已经作为依赖安装了）："),ss=(0,e.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S wimlib\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',1),es=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"接下来进行压缩。这一步会持续较长时间，耐心等待。完成后可以看到文件已经被压缩到了 3.x GB："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" /path/of/some_folder/sources\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" wimlib-imagex optimize install.wim --solid\n"),(0,e.Wm)("span",{class:"token function"},"ls"),(0,e.Uk)(" -hl install.wim\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:g,alt:"win-6"})])],-1),as=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"最后把全部文件复制到 U 盘中即可："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"umount"),(0,e.Uk)(" /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 卸载掉镜像"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"mount"),(0,e.Uk)(" /dev/sdxn /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 挂载 U 盘"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"cp"),(0,e.Uk)(" -r /path/of/some_folder/* /mnt/media "),(0,e.Wm)("span",{class:"token comment"},"# 复制全部文件"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:U,alt:"win-7"})])],-1),ms=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"复查一下并卸载 U 盘："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"ls"),(0,e.Uk)(" -hl /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 复查一下"),(0,e.Uk)("\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"umount"),(0,e.Uk)(" /mnt/mount_point "),(0,e.Wm)("span",{class:"token comment"},"# 卸载 U 盘"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:f,alt:"win-8"})])],-1),ts=(0,e.Wm)("p",null,"自此，一个 win10 / win11 安装盘便制作完成了。",-1),cs=(0,e.Wm)("h2",{id:"制作-archlinux-内存系统盘"},[(0,e.Wm)("a",{class:"header-anchor",href:"#制作-archlinux-内存系统盘"},"#"),(0,e.Uk)(" 制作 archlinux 内存系统盘")],-1),is=(0,e.Wm)("h4",{id:"⛓-相关链接"},[(0,e.Wm)("a",{class:"header-anchor",href:"#⛓-相关链接"},"#"),(0,e.Uk)(" ⛓ 相关链接")],-1),os=(0,e.Uk)("如有需要可参阅 "),us={href:"https://wiki.archlinux.org/title/Archiso_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)",target:"_blank",rel:"noopener noreferrer"},Ws=(0,e.Uk)("archWiki 相关内容"),rs=(0,e.Uk)("。"),ps={href:"https://archlinux.org/packages/extra/any/archiso/",target:"_blank",rel:"noopener noreferrer"},ds=(0,e.Uk)("Archiso"),ks=(0,e.Wm)("sup",null,"extra / aur",-1),bs=(0,e.Uk)(" 是自动化制作最新版 archlinux 镜像的工具集，可用于制作定制化的 archlinux 镜像。"),hs=(0,e.Wm)("h3",{id:"_1-准备工作"},[(0,e.Wm)("a",{class:"header-anchor",href:"#_1-准备工作"},"#"),(0,e.Uk)(" 1. 准备工作")],-1),gs=(0,e.Wm)("p",null,"首先安装 Archiso 相关包：",-1),Us=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" pacman -S archiso\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),fs=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,"yay -S archiso-git\n")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),vs=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:v,alt:"archiso-1"})],-1),xs=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("复制 "),(0,e.Wm)("code",null,"releng"),(0,e.Uk)(" 配置方案到合适位置：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"cp"),(0,e.Uk)(" -r /usr/share/archiso/configs/releng /path/of/some_folder/archlinux_live\n"),(0,e.Wm)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" /path/of/some_folder/archlinux_live "),(0,e.Wm)("span",{class:"token comment"},"# 进入目录"),(0,e.Uk)("\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:x,alt:"archiso-2"})]),(0,e.Wm)("div",{class:"custom-container warning"},[(0,e.Wm)("p",{class:"custom-container-title"},"⚠️ 注意"),(0,e.Wm)("p",null,[(0,e.Uk)("务必使用 root 权限操作（使用 "),(0,e.Wm)("code",null,"sudo"),(0,e.Uk)(" 提权），否则可能造成问题。")])]),(0,e.Wm)("div",{class:"custom-container tip"},[(0,e.Wm)("p",{class:"custom-container-title"},"ℹ️ 提示"),(0,e.Wm)("p",null,"Archiso 提供了两种配置方案："),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"baseline"),(0,e.Uk)(" —— 只包含基本系统（只包括从介质启动实时环境所需的最低限度的软件包）")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"releng"),(0,e.Uk)(" —— 可以制作定制镜像（用于创建正式的每月安装镜像，可以作为创建自定义镜像的起点）")])]),(0,e.Wm)("p",null,[(0,e.Uk)("显然，这里我们使用 "),(0,e.Wm)("code",null,"releng"),(0,e.Uk)(" 配置方案。")])])],-1),ws=(0,e.Wm)("h3",{id:"_2-进行定制"},[(0,e.Wm)("a",{class:"header-anchor",href:"#_2-进行定制"},"#"),(0,e.Uk)(" 2. 进行定制")],-1),_s=(0,e.Wm)("p",null,"首先了解下各个文件的用途：",-1),ys=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:w,alt:"archiso-3"})],-1),Es=(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"packages.x86_64"),(0,e.Uk)(" —— 一份要安装在 Live 系统镜像的软件包列表，一行一个")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"pacman.conf"),(0,e.Uk)(" —— Pacman 的配置文件")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"airootfs"),(0,e.Uk)(" —— Live 系统的 rootfs（根文件系统，遵循 rootfs 的目录规则）。除了安装的包之外，其它的定制（包括启动执行脚本等）都在这里")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"efiboot"),(0,e.Uk)(" / "),(0,e.Wm)("code",null,"syslinux"),(0,e.Uk)(" —— 用于设置 BIOS / EFI 启动的配置")])],-1),Bs=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("编辑 "),(0,e.Wm)("code",null,"pacman.conf"),(0,e.Uk)(" 配置文件：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"vim"),(0,e.Uk)(" /path/of/some_folder/archlinux_live/pacman.conf\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Uk)("在文档结尾处加入下面的文字，来添加 "),(0,e.Wm)("code",null,"archlinuxcn"),(0,e.Uk)(" 源。推荐的镜像源（选一个即可）也一并列出：")]),(0,e.Wm)("div",{class:"language-conf ext-conf line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-conf"},[(0,e.Wm)("code",null,"[archlinuxcn]\nServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch # 中国科学技术大学开源镜像站\nServer = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch # 清华大学开源软件镜像站\nServer = https://mirrors.hit.edu.cn/archlinuxcn/$arch # 哈尔滨工业大学开源镜像站\nServer = https://repo.huaweicloud.com/archlinuxcn/$arch # 华为开源镜像站\n")]),(0,e.Wm)("div",{class:"highlight-lines"},[(0,e.Wm)("br"),(0,e.Wm)("div",{class:"highlight-line"}," "),(0,e.Wm)("br"),(0,e.Wm)("br"),(0,e.Wm)("br")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"5"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Uk)("去掉 "),(0,e.Wm)("code",null,"[multilib]"),(0,e.Uk)(" 一节中两行的注释，来开启 32 位库支持：")]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:_,alt:"archiso-4"})])],-1),Vs=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("然后修改 "),(0,e.Wm)("code",null,"packages.x86_64"),(0,e.Uk)("：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"vim"),(0,e.Uk)(" packages.x86_64\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Uk)("在文档结尾处加入 "),(0,e.Wm)("code",null,"archlinuxcn-keyring"),(0,e.Uk)(" 和其它需要预安装的包（根据喜好自定义）：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token comment"},"# custom"),(0,e.Uk)("\narchlinuxcn-keyring\n"),(0,e.Wm)("span",{class:"token function"},"htop"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token comment"},"# 系统监控与进程管理软件（top 的升级版）"),(0,e.Uk)("\nbashtop "),(0,e.Wm)("span",{class:"token comment"},"# 系统监控与进程管理软件（top 的豪华升级版）"),(0,e.Uk)("\niftop "),(0,e.Wm)("span",{class:"token comment"},"# 流量监控工具"),(0,e.Uk)("\niotop "),(0,e.Wm)("span",{class:"token comment"},"# 磁盘 I/O 监控工具"),(0,e.Uk)("\nipmitool "),(0,e.Wm)("span",{class:"token comment"},"# 用于管理和配置，支持智能平台管理接口（IPMI）1.5 版和 2.0 版规范的设备的实用程序（给运维用的）"),(0,e.Uk)("\nneofetch "),(0,e.Wm)("span",{class:"token comment"},"# 打印系统信息"),(0,e.Uk)("\nplasma-meta\nkonsole\ndolphin\nntfs-3g\npartitionmanager "),(0,e.Wm)("span",{class:"token comment"},"# KDE 分区管理器"),(0,e.Uk)("\nadobe-source-han-serif-cn-fonts\nwqy-zenhei\nnoto-fonts\nnoto-fonts-cjk\nnoto-fonts-emoji\nnoto-fonts-extra\nfirefox\nark\ngwenview\nyay\ntimeshift\nmesa\nlib32-mesa\nvulkan-intel\nlib32-vulkan-intel\ncowsay\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"3"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"4"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"5"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"6"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"7"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"8"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"9"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"10"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"11"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"12"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"13"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"14"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"15"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"16"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"17"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"18"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"19"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"20"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"21"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"22"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"23"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"24"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"25"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"26"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"27"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"28"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"29"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:y,alt:"archiso-5"})])],-1),As=(0,e.Wm)("p",null,"可选向镜像里添加文件：",-1),Is=(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"airootfs"),(0,e.Uk)(" —— 看作是 Live 系统上的 '/' 根目录，在此中存放文件将覆盖或复制到对应的位置")]),(0,e.Wm)("li",null,[(0,e.Wm)("code",null,"airootfs/etc/skel"),(0,e.Uk)(" —— 在 root 用户主目录里放置文件的方法有些许不同。不要把它们放在 "),(0,e.Wm)("code",null,"airootfs/home"),(0,e.Uk)("，而是放置在此处")])],-1),Ss=(0,e.Wm)("p",null,[(0,e.Uk)("以 "),(0,e.Wm)("code",null,"/root/.zshrc"),(0,e.Uk)(" 为例：")],-1),Ds=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" /path/of/some_folder/archlinux_live/airootfs/etc/skel\n"),(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"vim"),(0,e.Uk)(" /path/of/some_folder/archlinux_live/airootfs/etc/skel/.zshrc\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br"),(0,e.Wm)("span",{class:"line-number"},"2"),(0,e.Wm)("br")])],-1),Ls=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:E,alt:"archiso-6"})],-1),zs=(0,e.Wm)("p",null,"添加以下内容：",-1),Fs=(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token string"},"'archlinux 简明指南'"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token operator"},"|"),(0,e.Uk)(" cowsay\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])],-1),Ms=(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:B,alt:"archiso-7"})],-1),Cs=(0,e.Wm)("h4",{id:"⛓-相关链接-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#⛓-相关链接-1"},"#"),(0,e.Uk)(" ⛓ 相关链接")],-1),qs=(0,e.Uk)("如有需要可参阅 "),Gs={href:"https://wiki.archlinux.org/title/Archiso_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%90%91%E6%98%A0%E5%83%8F%E9%87%8C%E6%B7%BB%E5%8A%A0%E6%96%87%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},Ts=(0,e.Uk)("archWiki 相关内容"),Os=(0,e.Uk)("。"),Ps=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"配置登录管理器："),(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"启用登录管理器的 systemd 服务来做到在引导时启动 X："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"ln"),(0,e.Uk)(" -s /usr/lib/systemd/system/sddm.service /path/of/some_folder/archlinux_live/airootfs/etc/systemd/system/display-manager.service\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:V,alt:"archiso-8"})])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Uk)("为了让图形环境在启动过程中自动启动，创建并编辑 "),(0,e.Wm)("code",null,"airootfs/root/customize_airootfs.sh"),(0,e.Uk)("：")]),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"vim"),(0,e.Uk)(" /path/of/some_folder/archlinux_live/airootfs/root/customize_airootfs.sh\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,"添加以下内容："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,"systemctl set-default graphical.target\n")]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:A,alt:"archiso-9"})])])])],-1),Ks=(0,e.Wm)("h3",{id:"_3-开始制作"},[(0,e.Wm)("a",{class:"header-anchor",href:"#_3-开始制作"},"#"),(0,e.Uk)(" 3. 开始制作")],-1),Rs=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"创建工作目录和输出目录："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(),(0,e.Wm)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" -p /mnt/work /mnt/out\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:I,alt:"archiso-10"})])],-1),$s=(0,e.Wm)("li",null,[(0,e.Wm)("p",null,"开始制作镜像文件："),(0,e.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e.Wm)("pre",{class:"language-bash"},[(0,e.Wm)("code",null,[(0,e.Wm)("span",{class:"token function"},"sudo"),(0,e.Uk)(" mkarchiso -v -w /mnt/work -o /mnt/out /path/to/profile/\n")])]),(0,e.Wm)("div",{class:"line-numbers"},[(0,e.Wm)("span",{class:"line-number"},"1"),(0,e.Wm)("br")])]),(0,e.Wm)("p",null,[(0,e.Wm)("img",{src:I,alt:"archiso-10"})])],-1),js=(0,e.Uk)("根据前述方法 "),Ns=(0,e.Uk)("Ventoy（推荐）"),Hs=(0,e.Uk)("、"),Ys=(0,e.Uk)("balenaEtcher"),Xs=(0,e.Uk)(" 或 "),Js=(0,e.Uk)("dd 命令"),Qs=(0,e.Uk)(" 将镜像制作为 archlinux 内存系统盘即可"),Zs=(0,e.Wm)("p",null,"📔 本节参考资料：",-1),ne={href:"https://blog.phoenixlzx.com/2018/12/14/bootable-archlinux-in-memory-rescue-system/",target:"_blank",rel:"noopener noreferrer"},le=(0,e.Uk)("制作 Arch Linux 内存系统启动盘"),se=(0,e.Uk)("（知识共享署名-相同方式共享 4.0 国际许可协议）"),ee={render:function(n,l){const s=(0,e.up)("RouterLink"),a=(0,e.up)("OutboundLink"),m=(0,e.up)("CodeGroupItem"),t=(0,e.up)("CodeGroup");return(0,e.wg)(),(0,e.j4)(e.HY,null,[S,D,(0,e.Wm)("blockquote",null,[L,(0,e.Wm)("nav",z,[(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#🥀-落红不是无情物-化作春泥更护花"},{default:(0,e.w5)((()=>[F])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#🔖-这一节将会讨论"},{default:(0,e.w5)((()=>[M])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#通用方法"},{default:(0,e.w5)((()=>[C])),_:1}),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#ventoy-推荐"},{default:(0,e.w5)((()=>[q])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#balenaetcher"},{default:(0,e.w5)((()=>[G])),_:1})])])]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#手动制作"},{default:(0,e.w5)((()=>[T])),_:1}),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#dd-命令"},{default:(0,e.w5)((()=>[O])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#win10-win11-安装盘"},{default:(0,e.w5)((()=>[P])),_:1})])])]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#制作-archlinux-内存系统盘"},{default:(0,e.w5)((()=>[K])),_:1}),(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#_1-准备工作"},{default:(0,e.w5)((()=>[R])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#_2-进行定制"},{default:(0,e.w5)((()=>[$])),_:1})]),(0,e.Wm)("li",null,[(0,e.Wm)(s,{to:"#_3-开始制作"},{default:(0,e.w5)((()=>[j])),_:1})])])])])])]),N,H,(0,e.Wm)("p",null,[(0,e.Wm)("a",Y,[X,(0,e.Wm)(a)]),J,Q]),Z,nn,(0,e.Wm)("p",null,[ln,(0,e.Wm)("a",sn,[en,(0,e.Wm)(a)]),an]),mn,(0,e.Wm)(t,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,{title:"cn"},{default:(0,e.w5)((()=>[tn])),_:1}),(0,e.Wm)(m,{title:"aur"},{default:(0,e.w5)((()=>[cn])),_:1})])),_:1}),on,un,Wn,(0,e.Wm)("div",rn,[pn,dn,(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[kn,(0,e.Wm)(s,{to:"/rookie/basic-install.html#_7-1-%E5%88%86%E5%8C%BA"},{default:(0,e.w5)((()=>[bn])),_:1}),hn,gn,Un,fn,vn,xn,wn]),_n,yn]),En]),(0,e.Wm)("p",null,[Bn,(0,e.Wm)("a",Vn,[An,(0,e.Wm)(a)]),In])]),Sn,Dn,Ln,zn,Fn,(0,e.Wm)("p",null,[(0,e.Wm)("a",Mn,[Cn,(0,e.Wm)(a)]),qn,Gn]),(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[Tn,(0,e.Wm)(t,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,{title:"aur"},{default:(0,e.w5)((()=>[On])),_:1}),(0,e.Wm)(m,{title:"aur（git）"},{default:(0,e.w5)((()=>[Pn])),_:1})])),_:1}),Kn,(0,e.Wm)("div",Rn,[$n,(0,e.Wm)("p",null,[(0,e.Wm)("a",jn,[Nn,(0,e.Wm)(a)]),Hn]),(0,e.Wm)("p",null,[Yn,(0,e.Wm)("a",Xn,[Jn,(0,e.Wm)(a)]),Qn,(0,e.Wm)("a",Zn,[nl,(0,e.Wm)(a)]),ll])])]),sl]),(0,e.Wm)("div",el,[al,(0,e.Wm)("p",null,[ml,(0,e.Wm)("a",tl,[cl,(0,e.Wm)(a)]),il,(0,e.Wm)("a",ol,[ul,(0,e.Wm)(a)]),Wl,rl])]),pl,dl,kl,bl,hl,gl,Ul,fl,vl,xl,wl,_l,(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[yl,El,Bl,Vl,(0,e.Wm)("div",Al,[Il,(0,e.Wm)("p",null,[Sl,(0,e.Wm)("a",Dl,[Ll,(0,e.Wm)(a)]),zl])])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[Fl,(0,e.Wm)(s,{to:"/rookie/basic-install.html#_7-1-%E5%88%86%E5%8C%BA"},{default:(0,e.w5)((()=>[Ml])),_:1}),Cl,ql,Gl,Tl,Ol,Pl,Kl]),Rl,$l]),jl,Nl,(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[Hl,Yl,Xl,Jl,Ql,(0,e.Wm)("a",Zl,[ns,(0,e.Wm)(a)]),ls]),ss]),es,as,ms]),ts,cs,(0,e.Wm)("blockquote",null,[is,(0,e.Wm)("p",null,[os,(0,e.Wm)("a",us,[Ws,(0,e.Wm)(a)]),rs])]),(0,e.Wm)("p",null,[(0,e.Wm)("a",ps,[ds,(0,e.Wm)(a)]),ks,bs]),hs,(0,e.Wm)("ol",null,[(0,e.Wm)("li",null,[gs,(0,e.Wm)(t,null,{default:(0,e.w5)((()=>[(0,e.Wm)(m,{title:"extra"},{default:(0,e.w5)((()=>[Us])),_:1}),(0,e.Wm)(m,{title:"aur（git）"},{default:(0,e.w5)((()=>[fs])),_:1})])),_:1}),vs]),xs]),ws,_s,ys,Es,(0,e.Wm)("ol",null,[Bs,Vs,(0,e.Wm)("li",null,[As,Is,Ss,Ds,Ls,zs,Fs,Ms,(0,e.Wm)("blockquote",null,[Cs,(0,e.Wm)("p",null,[qs,(0,e.Wm)("a",Gs,[Ts,(0,e.Wm)(a)]),Os])])]),Ps]),Ks,(0,e.Wm)("ol",null,[Rs,$s,(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[js,(0,e.Wm)(s,{to:"/advanced/make-install-disk.html#ventoy-%E6%8E%A8%E8%8D%90"},{default:(0,e.w5)((()=>[Ns])),_:1}),Hs,(0,e.Wm)(s,{to:"/advanced/make-install-disk.html#balenaetcher"},{default:(0,e.w5)((()=>[Ys])),_:1}),Xs,(0,e.Wm)(s,{to:"/advanced/advanced/make-install-disk.html#dd-%E5%91%BD%E4%BB%A4"},{default:(0,e.w5)((()=>[Js])),_:1}),Qs])])]),(0,e.Wm)("blockquote",null,[Zs,(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("a",ne,[le,(0,e.Wm)(a)]),se])])])],64)}}}}]);