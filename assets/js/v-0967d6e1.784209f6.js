(self.webpackChunkarch_guide=self.webpackChunkarch_guide||[]).push([[953],{5152:(e,a,s)=>{"use strict";s.r(a),s.d(a,{data:()=>n});const n={key:"v-0967d6e1",path:"/rookie/optional-cfg.html",title:"可选配置",lang:"zh-CN",frontmatter:{title:"可选配置"},excerpt:"",headers:[{level:3,title:"🍜 一分耕耘，一分收获",slug:"🍜-一分耕耘-一分收获",children:[]},{level:3,title:"🔖 这一节将会讨论：",slug:"🔖-这一节将会讨论",children:[]},{level:2,title:"调整部分系统设置",slug:"调整部分系统设置",children:[{level:3,title:"以空会话启动",slug:"以空会话启动",children:[]},{level:3,title:"点击文件 / 文件夹行为",slug:"点击文件-文件夹行为",children:[]}]},{level:2,title:"DPI 设置",slug:"dpi-设置",children:[]},{level:2,title:"字体设置",slug:"字体设置",children:[]},{level:2,title:"休眠（hibernate）设置",slug:"休眠-hibernate-设置",children:[]},{level:2,title:"rEFind",slug:"refind",children:[]},{level:2,title:"输入法",slug:"输入法",children:[]},{level:2,title:"zsh",slug:"zsh",children:[]},{level:2,title:"虚拟机增强功能",slug:"虚拟机增强功能",children:[]}],filePathRelative:"rookie/optional-cfg.md",git:{updatedTime:1623577029e3,contributors:[{name:"icekylin",email:"wminid@yeah.net",commits:5}]}}},9836:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>I});var n=s(6252);const l=(0,n.Wm)("h1",{id:"其它可选配置"},[(0,n.Wm)("a",{class:"header-anchor",href:"#其它可选配置"},"#"),(0,n.Uk)(" 其它可选配置")],-1),i=(0,n.Wm)("blockquote",null,[(0,n.Wm)("h3",{id:"🍜-一分耕耘-一分收获"},[(0,n.Wm)("a",{class:"header-anchor",href:"#🍜-一分耕耘-一分收获"},"#"),(0,n.Uk)(" 🍜 一分耕耘，一分收获")]),(0,n.Wm)("p",null,"这一节的配置都是可选的。这些配置根据个人喜好进行配置，往往可以让系统变得更好用")],-1),c=(0,n.Wm)("h3",{id:"🔖-这一节将会讨论"},[(0,n.Wm)("a",{class:"header-anchor",href:"#🔖-这一节将会讨论"},"#"),(0,n.Uk)(" 🔖 这一节将会讨论：")],-1),o={class:"table-of-contents"},t=(0,n.Uk)("🍜 一分耕耘，一分收获"),r=(0,n.Uk)("🔖 这一节将会讨论："),d=(0,n.Uk)("调整部分系统设置"),u=(0,n.Uk)("以空会话启动"),p=(0,n.Uk)("点击文件 / 文件夹行为"),m=(0,n.Uk)("DPI 设置"),h=(0,n.Uk)("字体设置"),b=(0,n.Uk)("休眠（hibernate）设置"),f=(0,n.Uk)("rEFind"),g=(0,n.Uk)("输入法"),k=(0,n.Uk)("zsh"),v=(0,n.Uk)("虚拟机增强功能"),W=(0,n.uE)('<h2 id="调整部分系统设置"><a class="header-anchor" href="#调整部分系统设置">#</a> 调整部分系统设置</h2><h3 id="以空会话启动"><a class="header-anchor" href="#以空会话启动">#</a> 以空会话启动</h3><h3 id="点击文件-文件夹行为"><a class="header-anchor" href="#点击文件-文件夹行为">#</a> 点击文件 / 文件夹行为</h3><h2 id="dpi-设置"><a class="header-anchor" href="#dpi-设置">#</a> DPI 设置</h2><h2 id="字体设置"><a class="header-anchor" href="#字体设置">#</a> 字体设置</h2><p>笔者的设置是英文使用 Hack，中文使用 Noto Sans CJK SC。可以在 <code>系统设置</code> &gt; <code>字体</code> 中进行设置。</p>',6),E=(0,n.Uk)("有关用户全局级别更改日文异型字的设置，可参考 "),U={href:"https://wiki.archlinux.org/index.php/Localization_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/Simplified_Chinese_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E4%BF%AE%E6%AD%A3%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E6%98%BE%E7%A4%BA%E4%B8%BA%E5%BC%82%E4%BD%93%EF%BC%88%E6%97%A5%E6%96%87%EF%BC%89%E5%AD%97%E5%BD%A2",target:"_blank",rel:"noopener noreferrer"},_=(0,n.Uk)("archWiki 相关说明"),w=(0,n.Uk)("。"),D=(0,n.uE)('<h2 id="休眠-hibernate-设置"><a class="header-anchor" href="#休眠-hibernate-设置">#</a> 休眠（hibernate）设置</h2><p>KDE 自身提供开箱即用的睡眠功能（sleep），即将系统挂起到内存，消耗少量的电量。休眠（hibernate）则会将系统挂起到交换分区或交换文件，几乎不消耗电量。如果睡眠功能已可满足你的需求，不需要休眠到硬盘的功能，则可略过此步。</p><p>挂起到硬盘的映像大小一般最大为物理内存的 2/5,其值在 <code>/sys/power/image_size</code> 中确定，故如果想使用休眠功能，Swap 大小一般设置为物理内存的 60% 即可。</p><p>首先确认 swap 文件所在分区的 UUID 以及 swap 文件的偏移值</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> findmnt -no UUID -T /swapfile <span class="token comment"># 确认 UUID</span>\n<span class="token function">sudo</span> filefrag -v /swapfile <span class="token comment"># 确认物理偏移值。第一行数据中的 physical_offset 一列的值即为所需要的数据</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>随后将这两个参数加入内核启动参数中</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>找到 <code>GRUB_CMDLINE_LINUX_DEFAULT</code> 一行，在其值后添加类似如下两项数据，内容根据你自身的 UUID 以及偏移值确定。参数以空格分隔。</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>resume=UUID=9a940a0a-fa72-4973-9ccc-3eb93ad73b37 resume_offset=6418432\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>配置完成后需要更新 grub 配置：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">grub-mkconfig</span> -o /boot/grub/grub.cfg\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>除此之外，还需配置 initranfs 的 resume 钩子：</p><p>添加 resume 钩子，编辑 <code>/etc/mkinitcpio.conf</code> ，在 HOOKS 行添加 <code>resume</code> 值，注意，<code>resume</code> 需要加入在 udev 后。若使用了 LVM 分区，<code>resume</code> 需要加入在 lvm2 后。</p><p>使用 Intel CPU 并且为触摸板加载 <code>intel_lpss_pci</code> 模块的笔记本电脑，可能会在唤醒时发生内核崩溃（Caps Lock 灯闪烁），黑屏并无法成功唤醒。此时需要编辑 <code>/etc/mkinitcpio.conf</code>，在 MODULES 行添加 <code>intel_lpss_pci</code> 值</p><div class="language-conf ext-conf line-numbers-mode"><pre class="language-conf"><code>MODULES=(intel_lpss_pci)\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>最后重新生成 initramfs 镜像：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> mkinitcpio -P\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="refind"><a class="header-anchor" href="#refind">#</a> rEFind</h2><h2 id="输入法"><a class="header-anchor" href="#输入法">#</a> 输入法</h2><blockquote><p>由于 fcitx5 自带词库简陋，部分本地化符号难以输入（如中文输入下按下 <code>/</code> 键无法打出 <code>、</code>），Emoji 无法输入等问题，提供额外输入方案</p></blockquote><ol><li>安装 Fcitx5</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装 Rime</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> pacman -S fcitx5-rime\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="3"><li>添加 Rime 输入法</li></ol><p>打开 <em>系统设置</em> &gt; <em>区域设置</em> &gt; <em>输入法</em></p><p>点击<code>添加输入法</code>，找到汉语下的 Rime ，点击添加</p><ol start="4"><li>安装 🍀️ 四叶草拼音输入方案</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yay -S rime-cloverpinyin\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ol start="5"><li>切换到 🍀️ 四叶草拼音输入方案</li></ol><p>在 <code>~/.local/share/fcitx5/rime</code> 下创建 <code>default.custom.yaml</code> 并加入以下内容</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">patch</span><span class="token punctuation">:</span>\n  <span class="token key atrule">&quot;menu/page_size&quot;</span><span class="token punctuation">:</span> <span class="token number">8</span>\n  <span class="token key atrule">schema_list</span><span class="token punctuation">:</span>\n    <span class="token punctuation">-</span> <span class="token key atrule">schema</span><span class="token punctuation">:</span> clover\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>其中 <code>8</code> 表示打字的时候输入面板的每一页的候选词数目，可以设置成 <code>1~9</code> 任意数字</p>',33),x=(0,n.Uk)("关于 "),y=(0,n.Wm)("code",null,"default.custom.yaml",-1),B=(0,n.Uk)(" 文件的更多解释，可以参考官方文档"),A={href:"https://github.com/rime/home/wiki/CustomizationGuide",target:"_blank",rel:"noopener noreferrer"},C=(0,n.Uk)("定制指南"),z=(0,n.uE)('<p>编辑好该文件之后，点击输入法托盘图标右键菜单，点 <code>重新部署</code>，然后再点右键，在方案列表里面应该就有 <code>🍀️四叶草拼音输入法</code> 的选项了</p><p>注销，重新登陆，就可以发现已经可以在各个软件中输入中文了</p><p>关于 Fcitx5 输入法的美化请参阅 <a href="">系统美化</a>。</p><h2 id="zsh"><a class="header-anchor" href="#zsh">#</a> zsh</h2><h2 id="虚拟机增强功能"><a class="header-anchor" href="#虚拟机增强功能">#</a> 虚拟机增强功能</h2>',5),I={render:function(e,a){const s=(0,n.up)("RouterLink"),I=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.j4)(n.HY,null,[l,i,(0,n.Wm)("blockquote",null,[c,(0,n.Wm)("nav",o,[(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#🍜-一分耕耘-一分收获"},{default:(0,n.w5)((()=>[t])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#🔖-这一节将会讨论"},{default:(0,n.w5)((()=>[r])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#调整部分系统设置"},{default:(0,n.w5)((()=>[d])),_:1}),(0,n.Wm)("ul",null,[(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#以空会话启动"},{default:(0,n.w5)((()=>[u])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#点击文件-文件夹行为"},{default:(0,n.w5)((()=>[p])),_:1})])])]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#dpi-设置"},{default:(0,n.w5)((()=>[m])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#字体设置"},{default:(0,n.w5)((()=>[h])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#休眠-hibernate-设置"},{default:(0,n.w5)((()=>[b])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#refind"},{default:(0,n.w5)((()=>[f])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#输入法"},{default:(0,n.w5)((()=>[g])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#zsh"},{default:(0,n.w5)((()=>[k])),_:1})]),(0,n.Wm)("li",null,[(0,n.Wm)(s,{to:"#虚拟机增强功能"},{default:(0,n.w5)((()=>[v])),_:1})])])])]),W,(0,n.Wm)("p",null,[E,(0,n.Wm)("a",U,[_,(0,n.Wm)(I)]),w]),D,(0,n.Wm)("p",null,[x,y,B,(0,n.Wm)("a",A,[C,(0,n.Wm)(I)])]),z],64)}}}}]);